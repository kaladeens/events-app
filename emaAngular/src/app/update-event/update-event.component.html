<link href="update-event.component.css" rel = "stylesheet">
<body class = "background-img">
    <nav
    class="bg-image p-5 text-center shadow-1-strong rounded mb-5 text-white "
    style="background-image: url('assets/images/banner.jpeg');
      background-position: 20% 20%;
      height: 200px" 
      
  ></nav>
  <div class = "container border  rounded bg-light">
    <form class ='row g-2'>
        <h3 class = "text-center">Update Form</h3>
        <div *ngIf="chosenEvent!=null">Event: {{chosenEvent.name}}</div>
            <div >Select one of the events to update</div>
            <div class = 'col-md-12'>
                <label for = "name" class ="form-label">Name</label>
                <input type = "text" 
                class = "form-control"
                id = "name"
                [(ngModel)]="name" 
                placeholder="Required" required>    
            </div>
            <div class = 'col-md-12'>
                <label for = "name" class ="form-label">Capacity</label>
                <input type = "text" 
                class = "form-control"
                id = "capacity"
                [(ngModel)]="capacity" 
                placeholder="Required" required>    
            </div>
        <div *ngIf="chosenEvent!=null">                    
            <button class="btn btn-success" (click) = "updateEvent()"  type ="button">Update</button>
        </div>
    </form>
  </div>
    <div class = "container mt-5">
        <h1 style="size:50px">Events</h1>
    </div>
    <div class = "container mt-5">
    <table class ='table table-hover table-secondary table-bordered table-striped'>
        <thead class = 'table-dark'>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Start</th>
                <th>End</th>
                <th>Duration</th>
                <th>Is Active</th>
                <th>Capacity</th>
                <th>Tickets Available</th>
                <th>Category ID's</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody class = 'tbody-light'>
            <ng-container *ngFor="let event of events">
            <tr>
                <td>
                    {{event.eventID}}
                </td>
                <td>
                    {{event.name}}
                </td>
                <td>
                    {{event.dateStr}}
                </td>
                <td>
                    {{event.endStr}}
                </td>
                <td>
                    {{event.duration|time}}
                </td>
                <td>
                    {{event.isActive}}
                </td>
                <td>
                    {{event.capacity}}
                </td>
                <td>
                    {{event.ticketsAvailable}}
                </td>
                <td>
                    {{event|listCat}}
                </td>
                <td>
                    <button class="btn btn-success" (click) = "chosenEvent=event"  type ="button">Select</button>
                </td>
            </tr>
            </ng-container>
        </tbody>
    </table>
    </div>
</body>